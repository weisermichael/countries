(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{47:function(e,t,n){"use strict";n.r(t);var c=n(19),i=n.n(c),r=n(20),a=n(4),s=n(2),j=n(10),u=n.n(j),o=n(0);n(43).config();var b=function(e){var t=e.weatherData,n="/countries/icons/"+t.weather.icon+".png";return console.log(n),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("b",{children:"temperature: "}),t.temp," Celcius ",Object(o.jsx)("br",{}),Object(o.jsx)("img",{src:n,alt:"weather icon"})," ",Object(o.jsx)("br",{}),Object(o.jsx)("b",{children:"wind: "})," ",t.wind_spd," mph direction ",t.wind_cdir," ",Object(o.jsx)("br",{})]})},l=function(e){var t=e.i,n=e.countries,c=e.disp,i=Object(s.useState)(null),r=Object(a.a)(i,2),j=r[0],l=r[1],d="https://api.weatherbit.io/v2.0/current?key=5f91eec673494107abe6678cb6fa52fe&city="+n[t].capital;return Object(s.useEffect)((function(){console.log("effect"),u.a.get(d).then((function(e){l(e.data.data[0])}))}),[]),c?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:n[t].name.common}),Object(o.jsx)("br",{}),"capital: ",n[t].capital," ",Object(o.jsx)("br",{}),"population: ",n[t].population," ",Object(o.jsx)("br",{}),Object(o.jsx)("h2",{children:"languages"}),Object(o.jsx)("ul",{children:Object.values(n[t].languages).map((function(e,t){return Object(o.jsx)("li",{children:e},t)}))}),Object(o.jsx)("img",{src:n[t].flags.png,alt:"flag"}),Object(o.jsx)("br",{}),Object(o.jsxs)("h2",{children:["Weather in ",n[t].capital]}),j&&Object(o.jsx)(b,{weatherData:j})]}):Object(o.jsx)(o.Fragment,{children:" "})},d=function(e){var t=e.countries,n=e.search,c=e.namesSearched,i=e.commonNames,r=e.handleChange,a=e.handleClick,s=e.displayCountry;if(0===n.length)return Object(o.jsxs)("div",{children:["find countries ",Object(o.jsx)("input",{value:n,onChange:r}),Object(o.jsx)("br",{}),"specify a filter"]});if(c.length>10)return Object(o.jsxs)("div",{children:["find countries ",Object(o.jsx)("input",{value:n,onChange:r}),Object(o.jsx)("br",{}),"Too many matches, specify another filter"]});if(1===c.length){var j=i.indexOf(c[0]);return Object(o.jsxs)("div",{children:["find countries ",Object(o.jsx)("input",{value:n,onChange:r}),Object(o.jsx)(l,{i:j,countries:t,disp:!0})]})}return Object(o.jsxs)("div",{children:["find countries ",Object(o.jsx)("input",{value:n,onChange:r}),Object(o.jsx)("ul",{children:c.map((function(e){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("li",{ind:i.indexOf(e),children:[" ",e,Object(o.jsx)("button",{onClick:a,children:"show"},i.indexOf(e))]},i.indexOf(e)),Object(o.jsx)(l,{i:i.indexOf(e),countries:t,disp:s[i.indexOf(e)]},1+i.indexOf(e))]})}))})]})};var O=function(){var e=Object(s.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)([]),j=Object(a.a)(i,2),b=j[0],l=j[1],O=Object(s.useState)([]),h=Object(a.a)(O,2),f=h[0],x=h[1];Object(s.useEffect)((function(){u.a.get("https://restcountries.com/v3.1/all").then((function(e){return l(e.data)}))}),[]);var p=b.map((function(e){return e.name.common})),g=p.filter((function(e){return e.toLowerCase().includes(n.toLowerCase())}));return Object(o.jsx)(d,{countries:b,search:n,namesSearched:g,commonNames:p,handleChange:function(e){c(e.target.value)},handleClick:function(e){var t=Object(r.a)(f);!0===f[e.target.parentElement.getAttribute("ind")]?t[e.target.parentElement.getAttribute("ind")]="":t[e.target.parentElement.getAttribute("ind")]=!0,x(t)},displayCountry:f})};i.a.render(Object(o.jsx)(O,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.2af382e9.chunk.js.map