{"version":3,"sources":["styledComponents/styles.js","App.js","index.js"],"names":["DisplayDiv","styled","div","WeatherDiv","TempContainer","WindContainer","PicContainer","require","config","Weather","weatherData","imgSrc","process","weather","icon","console","log","temp","src","alt","style","margin","wind_spd","wind_cdir","CountryInfo","i","countries","disp","useState","setWeatherData","urlStr","capital","useEffect","axios","get","then","response","data","error","name","common","population","Object","values","languages","map","l","a","flags","png","Display","search","namesSearched","commonNames","handleChange","handleClick","displayCountry","length","value","onChange","indexOf","n","ind","onClick","App","setSearch","setCountries","setDisplay","c","filter","toLowerCase","includes","event","target","newArr","parentElement","getAttribute","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e7a318fa.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const DisplayDiv = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    border: 1px solid #4A6E82;\r\n    padding: 10px;\r\n`\r\nexport const WeatherDiv = styled.div`\r\n    display: grid;\r\n    align-items: center;\r\n    column-gap:10px;\r\n    grid-template-columns: 2fr 1fr;\r\n    grid-template-areas: \r\n        \"temp pic\"\r\n        \"temp pic\"\r\n        \"wind pic\"\r\n        \"wind pic\";\r\n    border: 1px solid #4A6E82;\r\n    padding: 10px;\r\n`\r\nexport const TempContainer = styled.div`\r\n    //border: 1px solid hotpink;\r\n    //align-self: stretch;\r\n    grid-area: temp;\r\n`\r\n\r\nexport const WindContainer = styled.div`\r\n    //border: 1px solid hotpink;\r\n    //align-self: stretch;\r\n    grid-area: wind;\r\n`\r\n\r\nexport const PicContainer = styled.div`\r\n    //border: 1px solid red;\r\n    grid-area: pic;\r\n    align-self: stretch;\r\n`","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport {DisplayDiv, WeatherDiv, TempContainer, WindContainer, PicContainer} from './styledComponents/styles'\r\nrequire('dotenv').config()\r\n\r\nconst Weather = ({weatherData}) => {\r\n  const imgSrc = process.env.PUBLIC_URL + \"/icons/\" + weatherData.weather.icon + \".png\"\r\n  console.log(imgSrc)\r\n  return (\r\n    <WeatherDiv>\r\n      <>\r\n        <TempContainer><div><b>temperature: </b>{weatherData.temp} Celcius <br/></div></TempContainer>\r\n        <PicContainer><div><img src={imgSrc} alt=\"weather icon\" style={{\"border\": \"1px solid #4A6E82\", margin: \"10px\"}}/> <br/></div></PicContainer>\r\n        <WindContainer><div><b>wind: </b> {weatherData.wind_spd} mph direction {weatherData.wind_cdir} <br/></div></WindContainer>\r\n      </>\r\n    </WeatherDiv>\r\n  )\r\n}\r\n\r\nconst CountryInfo = ({i, countries, disp}) => {\r\n  const [weatherData, setWeatherData] = useState(null)\r\n  const api_key = process.env.REACT_APP_API_KEY\r\n  //console.log(process.env.REACT_APP_API_KEY);\r\n  const urlStr = \"https://api.weatherbit.io/v2.0/current?key=\" + api_key + \"&city=\" + countries[i].capital\r\n  useEffect(() =>{\r\n    console.log(\"effect\")\r\n    axios.get(urlStr).then((response) => {try {setWeatherData(response.data.data[0])}\r\n                                            catch(error){\r\n                                              console.log(error)\r\n                                            }})\r\n  }, [])\r\n\r\n  if (disp) {\r\n    return (\r\n      <DisplayDiv>\r\n        <div>\r\n          <h1>{countries[i].name.common}</h1>\r\n          <br/>\r\n          capital: {countries[i].capital} <br/>\r\n          population: {countries[i].population} <br/>\r\n          <h2>languages</h2>\r\n          <ul>\r\n            {Object.values(countries[i].languages).map((l, a) => <li key={a}>{l}</li>)}\r\n          </ul>\r\n          <img src={countries[i].flags.png} alt=\"flag\" />\r\n          <br/>\r\n          <h2>Weather in {countries[i].capital}</h2>\r\n          {weatherData && <Weather weatherData={weatherData} /> }\r\n          {!weatherData && <p>Weather data is not avaliable for this location right now.</p>}\r\n        </div>\r\n      </DisplayDiv>\r\n    )\r\n  }\r\n  else{\r\n    return(\r\n      <> </>\r\n    )\r\n  }\r\n}\r\n\r\nconst Display = ( {countries, search, namesSearched, commonNames, handleChange, handleClick, displayCountry} ) => {\r\n\r\n  if (search.length === 0) {\r\n    return (\r\n      <DisplayDiv>\r\n        <div>\r\n          find countries <input value={search} onChange={handleChange}></input>\r\n          <br/>\r\n          specify a filter\r\n        </div>\r\n      </DisplayDiv>\r\n    );\r\n  }\r\n\r\n  else if (namesSearched.length > 10) {\r\n    return (\r\n      <DisplayDiv>\r\n        <div>\r\n          find countries <input value={search} onChange={handleChange}></input>\r\n          <br/>\r\n          Too many matches, specify another filter\r\n        </div>\r\n      </DisplayDiv>\r\n    );\r\n  }\r\n\r\n  else if (namesSearched.length === 1){\r\n    const i = commonNames.indexOf(namesSearched[0])\r\n    return (\r\n      <DisplayDiv>\r\n        <div>\r\n          find countries <input value={search} onChange={handleChange}></input>\r\n          <CountryInfo i={i} countries={countries} disp={true}/>\r\n        </div>\r\n      </DisplayDiv>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <DisplayDiv>\r\n      <div>\r\n        find countries <input value={search} onChange={handleChange}></input>\r\n        <ul>\r\n          {namesSearched.map(n => <>\r\n                                    <li ind={commonNames.indexOf(n)} \r\n                                        key={commonNames.indexOf(n)}> {n} \r\n                                      <button key={commonNames.indexOf(n)}\r\n                                              onClick={handleClick}>show</button>\r\n                                      \r\n                                    </li>\r\n                                    <CountryInfo key={1+commonNames.indexOf(n)} \r\n                                                i={commonNames.indexOf(n)} \r\n                                                countries={countries} \r\n                                                disp={displayCountry[commonNames.indexOf(n)]}/>\r\n                                  </>)}\r\n          \r\n        </ul>\r\n      </div>\r\n    </DisplayDiv>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  const [search, setSearch] = useState('')\r\n  const [countries, setCountries] = useState([])\r\n  const [displayCountry, setDisplay] = useState([])\r\n\r\n  const handleChange = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    const newArr = [...displayCountry]\r\n    if (displayCountry[event.target.parentElement.getAttribute('ind')] === true) {\r\n      newArr[event.target.parentElement.getAttribute('ind')] = ''\r\n    }\r\n    else{\r\n      newArr[event.target.parentElement.getAttribute('ind')] = true\r\n    }\r\n    setDisplay(newArr)\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get(\"https://restcountries.com/v3.1/all\")\r\n         .then(response => setCountries(response.data))},[])\r\n  \r\n  const commonNames = countries.map(c => c.name.common)\r\n  const namesSearched = commonNames.filter(n => n.toLowerCase().includes(search.toLowerCase()))\r\n\r\n\r\n  return (\r\n    <Display countries={countries}\r\n             search={search} \r\n             namesSearched={namesSearched} \r\n             commonNames={commonNames} \r\n             handleChange={handleChange} \r\n             handleClick={handleClick}\r\n             displayCountry={displayCountry} />\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}